
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dasadd</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dasadd</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     DASADD ( DAS, add data, double precision )

     SUBROUTINE DASADD ( HANDLE, N, DATA )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Add an array of double precision numbers to a DAS file.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/das.html">DAS</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     ARRAY
     ASSIGNMENT
     DAS
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     INTEGER               HANDLE
     INTEGER               N
     DOUBLE PRECISION      DATA   ( * )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     HANDLE     I   DAS file handle.
     N          I   Number of d.p. numbers to add to DAS file.
     DATA       I   Array of d.p. numbers to add.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE   is a file handle of a DAS file opened for writing.

     N        is the number of double precision &quot;words&quot; to add to the
              DAS file specified by HANDLE.

     DATA     is an array of double precision numbers to be added to
              the specified DAS file. Elements 1 through N are appended
              to the double precision data in the file.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     None.

     See $Particulars for a description of the effect of this routine.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the input file handle is invalid, an error is signaled by a
         routine in the call tree of this routine.

     2)  If an I/O error occurs during the data addition attempted by
         this routine, the error is signaled by a routine in the call
         tree of this routine.

     3)  If the input count N is less than 1, no data will be added to
         the specified DAS file. No error will be signaled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See the description of the argument HANDLE in $Detailed_Input.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine adds double precision data to a DAS file by
     &quot;appending&quot; them after any double precision data already in the
     file. The sense in which the data are &quot;appended&quot; is that the
     data will occupy a range of logical addresses for double precision
     data that immediately follow the last logical address of a double
     precision number that is occupied at the time this routine is
     called. The diagram below illustrates this addition:

        +-------------------------+
        |    (already in use)     |  D.p. logical address 1
        +-------------------------+
                    .
                    .
                    .
        +-------------------------+
        |    (already in use)     |  Last d.p. logical address
        +-------------------------+  in use before call to <b>DASADD</b>
        |        DATA(1)          |
        +-------------------------+
                    .
                    .
                    .
        +-------------------------+
        |        DATA(N)          |
        +-------------------------+


     The logical organization of the double precision numbers in the
     DAS file is independent of the location in the file of any data
     of integer or character type.

     The actual physical write operations that add the input array
     DATA to the indicated DAS file might not take place before this
     routine returns, since the DAS system buffers data that are
     written as well as data that are read. In any case, the data
     will be flushed to the file at the time the file is closed, if
     not earlier. A physical write of all buffered records can be
     forced by calling the SPICELIB routine <a href="daswbr.html">DASWBR</a> (DAS, write
     buffered records).

     In order to update double precision logical addresses that
     already contain data, the SPICELIB routine <a href="dasudd.html">DASUDD</a>
     (DAS update data, double precision) should be used.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Create a new DAS file and add 200 double precision numbers
        to it. Close the file, then re-open it and read the data back
        out.


        Example code begins here.


              PROGRAM DASADD_EX1
              IMPLICIT NONE

        C
        C     Local parameters.
        C
              CHARACTER*(*)         FNAME
              PARAMETER           ( FNAME = 'dasadd_ex1.das' )

              CHARACTER*(*)         TYPE
              PARAMETER           ( TYPE  = 'TEST' )

        C
        C     Local variables.
        C
              DOUBLE PRECISION      DATA   ( 200 )

              INTEGER               HANDLE
              INTEGER               I
              INTEGER               J

        C
        C     Open a new DAS file. Use the file name as the internal
        C     file name, and reserve no records for comments.
        C
              CALL DASONW ( FNAME, TYPE, FNAME, 0, HANDLE )

        C
        C     Fill the array DATA with the double precision
        C     numbers 1.D0 through 100.D0, and add this array
        C     to the file.
        C
              DO I = 1, 100
                 DATA(I) = DBLE(I)
              END DO

              CALL <b>DASADD</b> ( HANDLE, 100, DATA )

        C
        C     Now append the array DATA to the file again.
        C
              CALL <b>DASADD</b> ( HANDLE, 100, DATA )

        C
        C     Close the file.
        C
              CALL <a href="dascls.html">DASCLS</a> ( HANDLE )

        C
        C     Now verify the addition of data by opening the
        C     file for read access and retrieving the data.
        C
              CALL DASOPR ( FNAME, HANDLE )
              CALL <a href="dasrdd.html">DASRDD</a> ( HANDLE, 1, 200, DATA )

        C
        C     Dump the data to the screen. We should see the
        C     sequence 1.0, 2.0, ..., 100.0, 1.0, 2.0, ... , 100.0.
        C     The numbers will be represented as double precision
        C     numbers in the output.
        C
              WRITE (*,*)
              WRITE (*,*) 'Data from &quot;', FNAME, '&quot;:'
              WRITE (*,*)
              DO I = 1, 25
                 WRITE (*,'(8F7.1)') (DATA((I-1)*8+J), J = 1, 8)
              END DO

        C
        C     Close the file.
        C
              CALL <a href="dascls.html">DASCLS</a> ( HANDLE )

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


         Data from &quot;dasadd_ex1.das&quot;:

            1.0    2.0    3.0    4.0    5.0    6.0    7.0    8.0
            9.0   10.0   11.0   12.0   13.0   14.0   15.0   16.0
           17.0   18.0   19.0   20.0   21.0   22.0   23.0   24.0
           25.0   26.0   27.0   28.0   29.0   30.0   31.0   32.0
           33.0   34.0   35.0   36.0   37.0   38.0   39.0   40.0
           41.0   42.0   43.0   44.0   45.0   46.0   47.0   48.0
           49.0   50.0   51.0   52.0   53.0   54.0   55.0   56.0
           57.0   58.0   59.0   60.0   61.0   62.0   63.0   64.0
           65.0   66.0   67.0   68.0   69.0   70.0   71.0   72.0
           73.0   74.0   75.0   76.0   77.0   78.0   79.0   80.0
           81.0   82.0   83.0   84.0   85.0   86.0   87.0   88.0
           89.0   90.0   91.0   92.0   93.0   94.0   95.0   96.0
           97.0   98.0   99.0  100.0    1.0    2.0    3.0    4.0
            5.0    6.0    7.0    8.0    9.0   10.0   11.0   12.0
           13.0   14.0   15.0   16.0   17.0   18.0   19.0   20.0
           21.0   22.0   23.0   24.0   25.0   26.0   27.0   28.0
           29.0   30.0   31.0   32.0   33.0   34.0   35.0   36.0
           37.0   38.0   39.0   40.0   41.0   42.0   43.0   44.0
           45.0   46.0   47.0   48.0   49.0   50.0   51.0   52.0
           53.0   54.0   55.0   56.0   57.0   58.0   59.0   60.0
           61.0   62.0   63.0   64.0   65.0   66.0   67.0   68.0
           69.0   70.0   71.0   72.0   73.0   74.0   75.0   76.0
           77.0   78.0   79.0   80.0   81.0   82.0   83.0   84.0
           85.0   86.0   87.0   88.0   89.0   90.0   91.0   92.0
           93.0   94.0   95.0   96.0   97.0   98.0   99.0  100.0


        Note that after run completion, a new DAS file exists in the
        output directory.
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     K.R. Gehringer     (JPL)
     W.L. Taber         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.3.0, 08-OCT-2021 (JDR) (NJB)

        Added IMPLICIT NONE statement. Updated the code to prevent
        <a href="dascud.html">DASCUD</a> from being called with a negative number of double
        precision words when the input count N is negative.

        Edited the header to comply with NAIF standard. Fixed
        bugs in the code example and modified the output presentation
        to comply with the maximum line length for header comments.

        Made local variable RECORD a saved variable which is
        initialized by a DATA statement.

        Bug fix: added <a href="failed.html">FAILED</a> call after DASHFS call.

        Updated entries in the $Revisions section.

    SPICELIB Version 1.2.0, 10-APR-2014 (NJB)

        Deleted declarations of unused parameters.

        Corrected header comments: routine that flushes
        written, buffered records is <a href="daswbr.html">DASWBR</a>, not DASWUR.

    SPICELIB Version 1.1.1, 19-DEC-1995 (NJB)

        Corrected title of permuted index entry section.

    SPICELIB Version 1.1.0, 12-MAY-1994 (KRG) (NJB)

        Test of <a href="failed.html">FAILED</a>() added to loop termination condition.

        Removed references to specific DAS file open routines in the
        $Detailed_Input section of the header. This was done in order
        to minimize documentation changes if the DAS open routines ever
        change.

        Modified the $Examples section to demonstrate the new ID word
        format which includes a file type and to include a call to the
        new routine DASONW, open new, which makes use of the file
        type. Also, a variable for the type of the file to be created
        was added.

    SPICELIB Version 1.0.0, 11-NOV-1992 (NJB) (WLT)</PRE>
<h4>Link to routine DASADD source file <a href='../../../src/spicelib/dasadd.f'>dasadd.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:10 2021</pre>

</body>
</html>

