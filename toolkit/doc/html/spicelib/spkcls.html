
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>spkcls</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>spkcls</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     SPKCLS ( SPK, Close file )

     SUBROUTINE SPKCLS ( HANDLE )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Close an open SPK file.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/spk.html">SPK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     SPK
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     INTEGER               HANDLE
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     HANDLE     I   Handle of the SPK file to be closed.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE   is the handle of the SPK file that is to be closed.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If there are no segments in the file, the error
         SPICE(NOSEGMENTSFOUND) is signaled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See argument HANDLE.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     Close the SPK file attached to HANDLE. The close operation tests
     the file to ensure the presence of data segments.

     A <b>SPKCLS</b> call should balance each call to <a href="spkopn.html">SPKOPN</a>.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) This example demonstrates how to create an SPK type 8 kernel
        containing only one segment, given a time-ordered set of
        discrete states and epochs.


        Example code begins here.


              PROGRAM SPKCLS_EX1
              IMPLICIT NONE

        C
        C     Local parameters.
        C
              INTEGER               NAMLEN
              PARAMETER           ( NAMLEN = 42 )

        C
        C     Define the segment identifier parameters.
        C
              CHARACTER*(*)         SPK8
              PARAMETER           ( SPK8   = 'spkcls_ex1.bsp' )

              CHARACTER*(*)         REF
              PARAMETER           ( REF    = 'J2000'          )

              INTEGER               BODY
              PARAMETER           ( BODY   = 3  )

              INTEGER               CENTER
              PARAMETER           ( CENTER = 10 )

              INTEGER               DEGREE
              PARAMETER           ( DEGREE = 3  )

              INTEGER               NSTATS
              PARAMETER           ( NSTATS = 9  )

        C
        C     Local variables.
        C
              CHARACTER*(NAMLEN)    IFNAME
              CHARACTER*(NAMLEN)    SEGID

              DOUBLE PRECISION      BEGTIM
              DOUBLE PRECISION      FIRST
              DOUBLE PRECISION      LAST
              DOUBLE PRECISION      STATES ( 6, NSTATS )
              DOUBLE PRECISION      STEP

              INTEGER               HANDLE
              INTEGER               NCOMCH

        C
        C     Set the array of discrete states to write to the SPK
        C     segment.
        C
              DATA                  STATES /
             .        101.D0, 201.D0, 301.D0, 401.D0, 501.D0, 601.D0,
             .        102.D0, 202.D0, 302.D0, 402.D0, 502.D0, 602.D0,
             .        103.D0, 203.D0, 303.D0, 403.D0, 503.D0, 603.D0,
             .        104.D0, 204.D0, 304.D0, 404.D0, 504.D0, 604.D0,
             .        105.D0, 205.D0, 305.D0, 405.D0, 505.D0, 605.D0,
             .        106.D0, 206.D0, 306.D0, 406.D0, 506.D0, 606.D0,
             .        107.D0, 207.D0, 307.D0, 407.D0, 507.D0, 607.D0,
             .        108.D0, 208.D0, 308.D0, 408.D0, 508.D0, 608.D0,
             .        109.D0, 209.D0, 309.D0, 409.D0, 509.D0, 609.D0  /


        C
        C     Set the start and end times of interval covered by
        C     segment, and the time step separating epochs of states.
        C
              FIRST = 100.D0
              LAST  = 900.D0
              STEP  = 100.D0

        C
        C     NCOMCH is the number of characters to reserve for the
        C     kernel's comment area. This example doesn't write
        C     comments, so set to zero.
        C
              NCOMCH = 0

        C
        C     Internal file name and segment ID.
        C
              IFNAME = 'Type 8 SPK internal file name.'
              SEGID  = 'SPK type 8 test segment'

        C
        C     Open a new SPK file.
        C
              CALL <a href="spkopn.html">SPKOPN</a>( SPK8, IFNAME, NCOMCH, HANDLE )

        C
        C     Set the epoch of first state in STATES array to be
        C     the start time of the interval covered by the segment.
        C
              BEGTIM = FIRST

        C
        C     Create a type 8 segment.
        C
              CALL <a href="spkw08.html">SPKW08</a> (  HANDLE,  BODY,    CENTER,  REF,
             .               FIRST,   LAST,    SEGID,   DEGREE,
             .               NSTATS,  STATES,  BEGTIM,  STEP     )

        C
        C     Close the SPK file.
        C
              CALL <b>SPKCLS</b> ( HANDLE )

              END


        When this program is executed, no output is presented on
        screen. After run completion, a new SPK type 8 exists in
        the output directory.
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     J. Diaz del Rio    (ODC Space)
     K.R. Gehringer     (JPL)
     F.S. Turner        (JPL)
     E.D. Wright        (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.2.1, 28-MAY-2021 (JDR)

        Edited the header to comply with NAIF standard.
        Added complete code example, based on the <a href="spkw08.html">SPKW08</a> example.

        Updated $Particulars section. Re-ordered header sections.

    SPICELIB Version 1.2.0, 07-SEP-2001 (EDW)

        Removed <a href="dafhlu.html">DAFHLU</a> call; replaced ERRFN call with <a href="errhan.html">ERRHAN</a>.

    SPICELIB Version 1.1.0, 17-FEB-2000 (FST)

        Removed the call to ZZFIXID. This will make all SPK files
        created with future versions of the toolkit possess the
        unambiguous ID word 'DAF/SPK '.

    SPICELIB Version 1.0.0, 27-JAN-1995 (KRG)</PRE>
<h4>Link to routine SPKCLS source file <a href='../../../src/spicelib/spkcls.f'>spkcls.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:51 2021</pre>

</body>
</html>

