
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>kdata</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>kdata</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     KDATA ( Kernel Data )

     ENTRY KDATA ( WHICH, KIND, FILE, FILTYP, SRCFIL, HANDLE, FOUND )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return data for the nth kernel that is among a list of specified
     kernel types.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/kernel.html">KERNEL</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     KERNEL
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
    INTEGER               WHICH
    CHARACTER*(*)         KIND
    CHARACTER*(*)         FILE
    CHARACTER*(*)         FILTYP
    CHARACTER*(*)         SRCFIL
    INTEGER               HANDLE
    LOGICAL               FOUND
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     WHICH      I   Index of kernel to fetch from the list of kernels.
     KIND       I   The kind of kernel to which fetches are limited.
     FILE       O   The name of the kernel file.
     FILTYP     O   The type of the kernel.
     SRCFIL     O   Name of the source file used to load FILE.
     HANDLE     O   The handle attached to FILE.
     FOUND      O   .TRUE. if the specified file could be located.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     WHICH    is the number of the kernel to fetch (matching the type
              specified by KIND) from the list of kernels that have
              been loaded through the routine <a href="furnsh.html">FURNSH</a> but that have not
              been unloaded through the routine <a href="unload.html">UNLOAD</a>.

              The range of WHICH is 1 to COUNT, where COUNT is the
              number of kernels loaded via <a href="furnsh.html">FURNSH</a> of type KIND. This
              count may be obtained by calling <a href="ktotal.html">KTOTAL</a>. See the
              $Examples section for an illustrative example.

     KIND     is a list of types of kernels to be considered when
              fetching kernels from the list of loaded kernels. KIND
              should consist of words from list of kernel types
              given below.

                 SPK  --- All SPK files are counted in the total.
                 CK   --- All CK files are counted in the total.
                 DSK  --- All DSK files are counted in the total.
                 PCK  --- All binary PCK files are counted in the
                          total.
                 EK   --- All EK files are counted in the total.
                 TEXT --- All text kernels that are not meta-text
                          kernels are included in the total.
                 META --- All meta-text kernels are counted in the
                          total.
                 ALL  --- Every type of kernel is counted in the
                          total.

              KIND is case insensitive. If a word appears in KIND
              that is not one of those listed above, it is ignored.

              When KIND consists of multiple words, the words must
              be separated by blanks. Examples of valid lists are the
              strings

                 'SPK CK TEXT'
                 'SPK CK text'
                 'PCK DSK'
                 'CK'
                 'ALL'

              See the routine <a href="ktotal.html">KTOTAL</a> for examples of the use of KIND.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     FILE     is the name of the file having index WHICH in the
              sequence of files of type KIND that is currently loaded
              via <a href="furnsh.html">FURNSH</a>. FILE will be blank if there is not such
              kernel loaded.

     FILTYP   is the type of the kernel specified by FILE. FILE
              will be blank if there is no file matching the
              specification of WHICH and KIND.

     SRCFIL   is the name of the source file that was used to
              specify FILE as one to load. If FILE was loaded
              directly via a call to <a href="furnsh.html">FURNSH</a>, SRCFIL will be blank.
              If there is no file matching the specification of
              WHICH and KIND, SRCFIL will be blank.

     HANDLE   is the handle attached to FILE if it is a binary
              kernel. If FILE is a text kernel or meta-text kernel
              HANDLE will be zero. If there is no file matching
              the specification of WHICH and KIND, HANDLE will be
              set to zero.

     FOUND    is returned .TRUE. if a FILE matching the specification
              of WHICH and KIND exists. If there is no such file,
              FOUND will be set to .FALSE.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1)  If a file is not loaded matching the specification of WHICH
         and KIND, FOUND will be .FALSE., FILE, FILTYP, and SRCFIL will
         be blank and HANDLE will be set to zero.

     2)  If any of FILE, FILTYP or SRCFIL output strings has length
         too short to contain the corresponding output string, the
         string is truncated on the right.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine allows you to determine which kernels have been
     loaded via <a href="furnsh.html">FURNSH</a> and to obtain information sufficient to directly
     query those files.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Load a meta-kernel with a PCK, an LSK and an SPK and loop over
        the loaded kernels, outputting file information for each of
        them.

        Use the meta-kernel shown below to load the required SPICE
        kernels.


           KPL/MK

           File name: kdata_ex1.tm

           This meta-kernel is intended to support operation of SPICE
           example programs. The kernels shown here should not be
           assumed to contain adequate or correct versions of data
           required by SPICE-based user applications.

           In order for an application to use this meta-kernel, the
           kernels referenced here must be present in the user's
           current working directory.

           The names and contents of the kernels referenced
           by this meta-kernel are as follows:

              File name                     Contents
              ---------                     --------
              de421.bsp                     Planetary ephemeris
              pck00009.tpc                  Planet orientation and
                                            radii
              naif0009.tls                  Leapseconds

           \begindata

              KERNELS_TO_LOAD = ( 'de421.bsp',
                                  'pck00009.tpc',
                                  'naif0009.tls'  )

           \begintext

           End of meta-kernel


        Example code begins here.


              PROGRAM KDATA_EX1
              IMPLICIT NONE

        C
        C     Local constants.
        C
              INTEGER               FNAMLN
              PARAMETER           ( FNAMLN = 256 )

              INTEGER               FTYPLN
              PARAMETER           ( FTYPLN = 33 )

              INTEGER               SRCLEN
              PARAMETER           ( SRCLEN = 256 )

        C
        C     Local variables.
        C
              CHARACTER*(FNAMLN)    FILE
              CHARACTER*(FTYPLN)    FILTYP
              CHARACTER*(SRCLEN)    SRCFIL

              INTEGER               COUNT
              INTEGER               HANDLE
              INTEGER               WHICH

              LOGICAL               FOUND

        C
        C     Load several kernel files.
        C
              CALL <a href="furnsh.html">FURNSH</a> ( 'kdata_ex1.tm' )

        C
        C     Count the number of loaded kernel files.
        C
              CALL <a href="ktotal.html">KTOTAL</a> ( 'ALL', COUNT )

              DO WHICH= 1, COUNT + 1

                 CALL <b>KDATA</b> ( WHICH, 'ALL',   FILE, FILTYP,
             .                SRCFIL, HANDLE, FOUND        )

                 IF ( FOUND ) THEN

                    WRITE(*,*) 'Index : ', WHICH
                    WRITE(*,*) 'File  : ', FILE
                    WRITE(*,*) 'Type  : ', FILTYP
                    WRITE(*,*) 'Source: ', SRCFIL
                    WRITE(*,*) 'Handle: ', HANDLE
                    WRITE(*,*) ' '

                 ELSE

                    WRITE(*,*) 'No kernel found with index: ', WHICH

                 END IF

              END DO

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


         Index :            1
         File  : kdata_ex1.tm
         Type  : META
         Source:
         Handle:            0

         Index :            2
         File  : de421.bsp
         Type  : SPK
         Source: kdata_ex1.tm
         Handle:            1

         Index :            3
         File  : pck00009.tpc
         Type  : TEXT
         Source: kdata_ex1.tm
         Handle:            0

         Index :            4
         File  : naif0009.tls
         Type  : TEXT
         Source: kdata_ex1.tm
         Handle:            0

         No kernel found with index:            5
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     B.V. Semenov       (JPL)
     W.L. Taber         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 5.1.0, 08-AUG-2021 (JDR) (NJB)

        Changed argument name SOURCE to SRCFIL for consistency with
        other routines.

        Edited the header to comply with NAIF standard.
        Created complete code example from existing code fragments.

        Updated $Detailed_Input description of input arguments KIND, to
        illustrate use of multi-word lists, and WHICH, to describe its
        range.

        Added entry #2 to $Exceptions section. Added KERNEL to the list
        of required readings.

    SPICELIB Version 5.0.0, 01-FEB-2017 (NJB) (BVS)

        Updated to support use of DSKs.

        Updated the $Author_and_Institution section.

    SPICELIB Version 1.1.0, 02-APR-2009 (NJB)

        Deleted reference to unneeded variable DOALL.

    SPICELIB Version 1.0.1, 06-DEC-2002 (NJB)

        Typo in header example was corrected.

    SPICELIB Version 1.0.0, 01-JUL-1999 (WLT)</PRE>
<h4>Link to routine KDATA source file <a href='../../../src/spicelib/keeper.f'>keeper.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:29 2021</pre>

</body>
</html>

