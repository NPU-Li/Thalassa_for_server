
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dasrfr</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dasrfr</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     DASRFR ( DAS, read file record )

     SUBROUTINE DASRFR ( HANDLE, IDWORD, IFNAME, NRESVR,
    .                    NRESVC, NCOMR,  NCOMC          )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return the contents of the file record of a specified DAS
     file.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/das.html">DAS</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     DAS
     FILES
     UTILITY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     INTEGER               HANDLE
     CHARACTER*(*)         IDWORD
     CHARACTER*(*)         IFNAME
     INTEGER               NRESVR
     INTEGER               NRESVC
     INTEGER               NCOMR
     INTEGER               NCOMC
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     HANDLE     I   DAS file handle.
     IDWORD     O   ID word.
     IFNAME     O   DAS internal file name.
     NRESVR     O   Number of reserved records in file.
     NRESVC     O   Number of characters in use in reserved rec. area.
     NCOMR      O   Number of comment records in file.
     NCOMC      O   Number of characters in use in comment area.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE   is a file handle for a previously opened DAS file.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     IDWORD   is the &quot;ID word&quot; contained in the first eight
              characters of the file record.

     IFNAME   is the internal file name of the DAS file. The
              maximum length of the internal file name is 60
              characters.

     NRESVR   is the number of reserved records in the DAS file
              specified by HANDLE.

     NRESVC   is the number of characters in use in the reserved
              record area of the DAS file specified by HANDLE.

     NCOMR    is the number of comment records in the DAS file
              specified by HANDLE.

     NCOMC    is the number of characters in use in the comment area
              of the DAS file specified by HANDLE.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the file read attempted by this routine fails, an error is
         signaled by a routine in the call tree of this routine.

     2)  If the input file handle is invalid, an error is signaled by
         a routine in the call tree of this routine.

     3)  If a logical unit cannot be obtained for the file designated
         by HANDLE, an error is signaled by a routine in the call tree
         of this routine.

     4)  If the file's binary format is unrecognized, an error is
         signaled by a routine in the call tree of this routine.

     5)  If the file designated by HANDLE has non-native binary format,
         and if any numeric components of the file record cannot be
         translated to native format, an error is signaled by a
         routine in the call tree of this routine.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See the description of HANDLE under $Detailed_Input.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine provides a convenient way of retrieving the
     information contained in the file record of a DAS file.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Obtain the internal file name, comment record count, and
        comment character count of an existing DAS file.

        Example code begins here.


              PROGRAM DASRFR_EX1
              IMPLICIT NONE

        C
        C     Local constants
        C
              INTEGER               IDWLEN
              PARAMETER           ( IDWLEN = 9 )

              INTEGER               IFNLEN
              PARAMETER           ( IFNLEN = 61 )

              INTEGER               FILSIZ
              PARAMETER           ( FILSIZ = 256 )

        C
        C     Local variables
        C
              CHARACTER*(FILSIZ)    FNAME
              CHARACTER*(IDWLEN)    IDWORD
              CHARACTER*(IFNLEN)    IFNAME

              INTEGER               HANDLE
              INTEGER               NCOMC
              INTEGER               NCOMR
              INTEGER               NRESVC
              INTEGER               NRESVR

        C
        C     Obtain the file name.
        C
              CALL PROMPT ( 'Enter DAS file name &gt; ', FNAME )

        C
        C     Open the file for reading.
        C
              CALL DASOPR ( FNAME, HANDLE )

        C
        C     Retrieve the internal file name and print it.
        C
              CALL <b>DASRFR</b> ( HANDLE, IDWORD, IFNAME, NRESVR,
             .              NRESVC, NCOMR,  NCOMC           )

              WRITE(*,*) 'Internal file name is:           ', IFNAME
              WRITE(*,*) 'Number of comment records is:    ', NCOMR
              WRITE(*,*) 'Number of comment characters is: ', NCOMC

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, using the DSK file named phobos512.bds as input
        DAS file, the output was:


        Enter DAS file name &gt; phobos512.bds
         Internal file name is:           phobos512.bds
         Number of comment records is:              10
         Number of comment characters is:         1390
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     K.R. Gehringer     (JPL)
     W.L. Taber         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 3.1.0, 22-FEB-2021 (JDR)

        Added IMPLICIT NONE statement.

        Updated $Exceptions section to align it with changes
        implemented in previous version.

        Updated the header to comply with NAIF standard. Added
        complete code example.

        Updated entries in $Revisions section.

    SPICELIB Version 3.0.0, 05-FEB-2015 (NJB)

        Updated to support integration with the handle
        manager subsystem and to support reading of DAS
        files having non-native binary formats.

    SPICELIB Version 2.1.0, 25-AUG-1995 (NJB)

        Bug fix: local variables are now used in the direct
        access of the file record. Previously, the routine read
        directly into the CHARACTER*(*) arguments IDWORD and IFNAME.

    SPICELIB Version 2.0.0, 27-OCT-1993 (KRG)

        Removed references to specific DAS file open routines in the
        $Detailed_Input section of the header. This was done in order
        to minimize documentation changes if these open routines ever
        change.

        Removed the DASID parameter which had the value 'NAIF/DAS', as
        it was not used and is also made obsolete by the change in the
        format of the ID word being implemented.

        Added a check of <a href="failed.html">FAILED</a> after the call to DASHLU which will
        check out and return if DASHLU fails. This is so that when in
        return mode of the error handling the READ following the call
        to DASHLU will not be executed.

        Reworded some of the descriptions contained in the
        $Detailed_Output section of the header so that they were more
        clear.

        Changed the example so that it does not set a value for IFNAME
        before calling <b>DASRFR</b>. This appears to have been a cut and
        paste bug from <a href="daswfr.html">DASWFR</a>.

    SPICELIB Version 1.0.0, 15-JUL-1992 (NJB) (WLT)</PRE>
<h4>Link to routine DASRFR source file <a href='../../../src/spicelib/dasrfr.f'>dasrfr.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:11 2021</pre>

</body>
</html>

