
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>ekcii</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>ekcii</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     EKCII  ( EK, column info by index )

     ENTRY EKCII ( TABLE, CINDEX,  COLUMN,  ATTDSC )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return attribute information about a column belonging to a loaded
     EK table, specifying the column by table and index.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/ek.html">EK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     EK
     FILES
     UTILITY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
    CHARACTER*(*)         TABLE
    INTEGER               CINDEX
    CHARACTER*(*)         COLUMN
    INTEGER               ATTDSC ( ADSCSZ )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     TABLE      I   Name of table containing column.
     CINDEX     I   Index of column whose attributes are to be found.
     COLUMN     O   Name of column.
     ATTDSC     O   Column attribute descriptor.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     TABLE    is the name of a loaded EK table. Case is not
              significant.

     CINDEX   is the index, within TABLE's column attribute
              table, of the column whose attributes are to be
              found. The indices of the column table entries
              range from 1 to CCOUNT, where CCOUNT is the value
              returned by the entry point <a href="ekccnt.html">EKCCNT</a>.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     COLUMN   is the name of the specified column.

     ATTDSC   is a column attribute descriptor. ATTDSC is an
              integer array containing descriptive information
              that applies uniformly to all loaded columns
              having the name COLUMN. The following parameter
              values occur in ATTDSC:

                 IFALSE:  -1
                 ITRUE:    1
                 CHR:      1
                 DP:       2
                 INT:      3
                 TIME:     4

              The meanings of the elements of ATTDSC are given
              below. The indices of the elements are
              parameterized; the parameter values are defined
              in the include file ekattdsc.inc.

                 ATTDSC(ATTCLS):   Column class code

                 ATTDSC(ATTTYP):   Data type code---CHR, DP, INT,
                                   or TIME

                 ATTDSC(ATTLEN):   String length; applies to CHR
                                   type. Value is IFALSE for
                                   variable-length strings.

                 ATTDSC(ATTSIZ):   Column entry size; value is
                                   IFALSE for variable-size
                                   columns. Here `size' refers
                                   to the number of array
                                   elements in a column entry.

                 ATTDSC(ATTIDX):   Index flag; value is ITRUE if
                                   column is indexed, IFALSE
                                   otherwise.

                 ATTDSC(ATTNFL):   Null flag; value is ITRUE if
                                   column may contain null
                                   values, IFALSE otherwise.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     ADSCSZ   is the size of column attribute descriptor.
              (Defined in ekattdsc.inc.)
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the specified table is not loaded, the error
         SPICE(TABLENOTLOADED) is signaled.

     2)  If the input argument CINDEX is out of range, the error
         SPICE(INVALIDINDEX) is signaled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See the header of <a href="ekqmgr.html">EKQMGR</a> for a description of files used
     by this routine.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine is a utility that allows a calling routine to
     determine the attributes of the currently loaded columns.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Dump the names and attributes of the columns in each loaded
        table.


        Example code begins here.


              PROGRAM EKCII_EX1
              IMPLICIT NONE

        C
        C     Include EK parameter declarations:
        C
        C        ekattdsc.inc: EK Column Attribute Descriptor
        C                      Parameters
        C        ekcnamsz.inc: EK Column Name Size
        C        ektnamsz.inc: EK Table Name Size
        C        ektype.inc:   EK Data Types
        C
              INCLUDE 'ekattdsc.inc'
              INCLUDE 'ekcnamsz.inc'
              INCLUDE 'ektnamsz.inc'
              INCLUDE 'ektype.inc'

        C
        C     Local constants.
        C
              INTEGER                 FILEN
              PARAMETER             ( FILEN = 255 )

        C
        C     Local variables.
        C
              CHARACTER*(CNAMSZ)      COLNAM
              CHARACTER*(FILEN)       EKFILE
              CHARACTER*(TNAMSZ)      TABNAM

              INTEGER                 ATTDSC ( ADSCSZ )
              INTEGER                 I
              INTEGER                 NCOLS
              INTEGER                 NTAB
              INTEGER                 TAB

        C
        C     Prompt for the EK file name.
        C
              CALL PROMPT ( 'Enter name of EK to examine &gt; ', EKFILE )

              CALL <a href="furnsh.html">FURNSH</a> ( EKFILE )

        C
        C     Get the number of loaded tables.
        C
              CALL <a href="ekntab.html">EKNTAB</a> ( NTAB )

              WRITE(*,*) 'Number of tables in EK:', NTAB

              DO TAB = 1, NTAB

        C
        C        Get the name of the current table, and look up
        C        the column count for this table.
        C
                 CALL <a href="ektnam.html">EKTNAM</a> ( TAB,    TABNAM )
                 CALL <a href="ekccnt.html">EKCCNT</a> ( TABNAM, NCOLS  )

                 WRITE(*,*) '------------------------------'
             .           // '------------------------------'
                 WRITE(*,*) 'TABLE = ', TABNAM
                 WRITE(*,*) ' '

        C
        C        For each column in the current table, look up the
        C        column's attributes.  The attribute block
        C        index parameters are defined in the include file
        C        ekattdsc.inc.
        C
                 DO I = 1, NCOLS

                    CALL <b>EKCII</b> ( TABNAM, I, COLNAM, ATTDSC )

                    WRITE (*,*) 'COLUMN = ', COLNAM

        C
        C           Write out the current column's data type.
        C
                    IF ( ATTDSC(ATTTYP) .EQ. CHR ) THEN

                       WRITE (*,*) '   TYPE   =  CHR'

                       IF ( ATTDSC(ATTLEN) .EQ. -1 ) THEN
                          WRITE (*,*) '   STRING LENGTH = VARIABLE.'
                       ELSE
                          WRITE (*,'(A,I2)') '    STRING LENGTH = ',
             .                         ATTDSC(ATTLEN)
                       END IF

                    ELSE IF ( ATTDSC(ATTTYP) .EQ. DP ) THEN
                       WRITE (*,*) '   TYPE   =  DP'

                    ELSE IF ( ATTDSC(ATTTYP) .EQ. INT ) THEN
                       WRITE (*,*) '   TYPE   =  INT'

                    ELSE
                       WRITE (*,*) '   TYPE   =  TIME'
                    END IF

        C
        C           Write out the current column's entry size.
        C
                    WRITE (*,'(A,I2)') '    SIZE   = ', ATTDSC(ATTSIZ)

        C
        C           Indicate whether the current column is indexed.
        C
                    IF ( ATTDSC(ATTIDX) .EQ. -1 ) THEN
                       WRITE (*,*) '   NOT INDEXED'
                    ELSE
                       WRITE (*,*) '   INDEXED'
                    END IF

        C
        C           Indicate whether the current column allows
        C           null values.
        C
                    IF ( ATTDSC(ATTNFL) .EQ. -1 ) THEN
                       WRITE (*,*) '   NULL VALUES NOT ALLOWED'
                    ELSE
                       WRITE (*,*) '   NULL VALUES ALLOWED'
                    END IF

                 END DO

              END DO

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, using the EK file named vo_sedr.bdb to load the
        Viking Orbiter Image SEDR Data, the output was:


        Enter name of EK to examine &gt; vo_sedr.bdb
         Number of tables in EK:           1
         ------------------------------------------------------------
         TABLE = VIKING_SEDR_DATA

         COLUMN = IMAGE_ID
            TYPE   =  CHR
            STRING LENGTH =  6
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = IMAGE_NUMBER
            TYPE   =  INT
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = SPACECRAFT_ID
            TYPE   =  CHR
            STRING LENGTH =  3
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = IMAGE_TIME
            TYPE   =  TIME
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = INSTRUMENT_ID
            TYPE   =  CHR
            STRING LENGTH =  4
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = GAIN_MODE_ID
            TYPE   =  CHR
            STRING LENGTH =  4
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
         COLUMN = FLOOD_MODE_ID
            TYPE   =  CHR
            STRING LENGTH =  3
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
         COLUMN = OFFSET_MODE_ID
            TYPE   =  CHR
            STRING LENGTH =  3
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
         COLUMN = FILTER_ID
            TYPE   =  INT
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = EXPOSURE_DURATION
            TYPE   =  DP
            SIZE   =  1
            INDEXED
            NULL VALUES ALLOWED
         COLUMN = PLATFORM_IN_MOTION
            TYPE   =  CHR
            STRING LENGTH =  3
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
         COLUMN = PLATFORM_CONE
            TYPE   =  DP
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
         COLUMN = PLATFORM_CLOCK
            TYPE   =  DP
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
         COLUMN = PLATFORM_TWIST
            TYPE   =  DP
            SIZE   =  1
            NOT INDEXED
            NULL VALUES ALLOWED
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     B.V. Semenov       (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 2.1.0, 06-JUL-2021 (JDR)

        Added IMPLICIT NONE statement.

        Edited header to comply with NAIF standard.
        Added complete code example from existing code fragment.

    SPICELIB Version 2.0.1, 10-FEB-2014 (BVS)

        Added description of ADSCSZ to the $Parameters section of the
        header.

    SPICELIB Version 2.0.0, 16-NOV-2001 (NJB)

        Bug fix: When an already loaded kernel is opened with <a href="ekopr.html">EKOPR</a>,
        it now has its link count reset to 1 via a call to <a href="ekcls.html">EKCLS</a>.

    SPICELIB Version 1.0.1, 07-JUL-1996 (NJB)

        Previous version line was changed from &quot;Beta&quot; to &quot;SPICELIB.&quot;

    SPICELIB Version 1.0.0, 23-OCT-1995 (NJB)</PRE>
<h4>Link to routine EKCII source file <a href='../../../src/spicelib/ekqmgr.f'>ekqmgr.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:18 2021</pre>

</body>
</html>

