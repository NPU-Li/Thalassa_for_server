
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>lstltc</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>lstltc</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     LSTLTC ( Last character element less than )

     INTEGER FUNCTION  LSTLTC ( STRING, N, ARRAY )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Find the index of the largest array element less than a given  
     character string in an ordered array of character strings.     
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     ARRAY
     SEARCH
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     CHARACTER*(*)    STRING
     INTEGER          N
     CHARACTER*(*)    ARRAY ( * )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     STRING     I   Upper bound value to search against.
     N          I   Number of elements in ARRAY.
     ARRAY      I   Array of possible lower bounds.

     The function returns the index of the last element of ARRAY that
     is lexically less than STRING.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     STRING   is a string acting as an upper bound: the element of
              ARRAY that is lexically the greatest element less than
              STRING is to be found. Trailing blanks in this bound
              value are not significant.

     N        is the total number of elements in ARRAY.

     ARRAY    is an array of character strings to be searched. Trailing
              blanks in the strings in this array are not significant.
              The strings in ARRAY must be sorted in non-decreasing
              order. The elements of ARRAY need not be distinct.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     The function returns the index of the highest-indexed element in
     the input array that is lexically less than STRING. The routine
     assumes the array elements are sorted in non-decreasing order.

     Indices range from 1 to N.

     If all elements of ARRAY are lexically greater than or equal to
     STRING, the routine returns the value 0. If N is less than or
     equal to zero, the routine returns the value 0.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1)  If N is less than or equal to zero, the function returns 0.
         This case is not treated as an error.

     2)  If the input array is not sorted in non-decreasing order, the
         output of this routine is undefined. No error is signaled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine uses a binary search algorithm and so requires
     at most on the order of

        log (N)
           2

     steps to compute the value of <b>LSTLTC</b>.

     Note: If you need to find the first element of the array that is
     lexically greater than or equal to STRING, simply add 1 to the
     result returned by this function and check to see if the result is
     within the array bounds given by N.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     Suppose that you have a long list of words, sorted alphabetically
     and entirely in upper case. Furthermore suppose you wished to
     find all words that begin the sequence of letters PLA,  then
     you could execute the following code.

           START = 0
           I     = 1

           DO I = 1, NWORDS

              IF ( WORD(I)(1:3) .EQ. 'PLA' ) THEN

                 IF ( START .EQ. 0 ) THEN
                    START = I
                 END IF

                 END = I
              END IF

           END DO

     This can of course be improved by stopping the loop once START
     is non-zero and END remains unchanged after a pass through the
     loop. However, this is a linear search  and on average can be
     expected to take NWORDS/2 comparisons. The above algorithm
     fails to take advantage of the structure of the list of words
     (they are sorted).

     The code below is much simpler to code, simpler to check, and
     much faster than the code above.

           START = <b>LSTLTC</b>( 'PLA', NWORDS, WORDS ) + 1
           END   = <b>LSTLTC</b>( 'PLB', NWORDS, WORDS )

           do something in case there are no such words.

           IF ( START .GT. END ) THEN
              START = 0
              END   = 0
           END IF

     This code will never exceed 2 * LOG_2 ( NWORDS ) comparisons.
     For a large list of words (say 4096) the second method will
     take 24 comparisons  the first method requires on average
     2048 comparisons. About 200 times as much time. Its clear
     that if searches such as this must be performed often, that
     the second approach could make the difference between being
     able to perform the task in a few minutes as opposed to
     several hours.

     For more ideas regarding the use of this routine see <a href="lstlei.html">LSTLEI</a>
     and <a href="lstlti.html">LSTLTI</a>.
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     1)  If the sequence of character strings in the input array ARRAY
         is not non-decreasing, the program will run to completion but
         the index found will not mean anything.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     J. Diaz del Rio    (ODC Space)
     H.A. Neilan        (JPL)
     W.L. Taber         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.0, 26-OCT-2021 (JDR)

        Added IMPLICIT NONE statement.

        Edited the header to comply with NAIF standard. Removed
        unnecessary $Revisions section. Improved $Detailed_Input,
        $Detailed_Output, $Particulars, $Exceptions and $Restrictions
        sections.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (WLT) (HAN)</PRE>
<h4>Link to routine LSTLTC source file <a href='../../../src/spicelib/lstltc.f'>lstltc.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:32 2021</pre>

</body>
</html>

