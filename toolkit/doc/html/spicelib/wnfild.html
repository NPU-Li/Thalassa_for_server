
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>wnfild</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>wnfild</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     WNFILD ( Fill small gaps in a DP window )

     SUBROUTINE WNFILD ( SMLGAP, WINDOW )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Fill small gaps between adjacent intervals of a double precision
     window.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/windows.html">WINDOWS</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     WINDOWS
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     INTEGER               LBCELL
     PARAMETER           ( LBCELL = -5 )

     DOUBLE PRECISION      SMLGAP
     DOUBLE PRECISION      WINDOW  ( LBCELL:* )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     SMLGAP     I   Limiting measure of small gaps.
     WINDOW    I-O  Window to be filled.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     SMLGAP   is the limiting measure of the small gaps to be filled.
              Adjacent intervals separated by gaps of measure less than
              or equal to SMLGAP are merged. The measure SMLGAP is
              signed, and is used as is---the absolute value of SMLGAP
              is not used for in place of negative input values.

     WINDOW   on input, is a window containing zero or more
              intervals.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     WINDOW   on output, is the original window, after adjacent
              intervals separated by small gaps have been merged.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  The cardinality of the input WINDOW must be even. Left
         endpoints of stored intervals must be strictly greater than
         preceding right endpoints. Right endpoints must be greater
         than or equal to corresponding left endpoints. Invalid window
         data are not diagnosed by this routine and may lead to
         unpredictable results.

     2)  If SMLGAP is less than or equal to zero, this routine has
         no effect on the window.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine removes small gaps between adjacent intervals
     by merging intervals separated by gaps of measure less than
     or equal to the limiting measure SMLGAP.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for these examples may differ across
     platforms. The results depend on the SPICE kernels used as input,
     the compiler and supporting libraries, and the machine specific
     arithmetic implementation.

     1) Given a double precision window, containing the following four
        intervals:

           [ 1.0, 3.0 ], [ 7.0, 11.0 ], [ 23.0, 27.0 ], [ 29.0, 29.0 ]

        merge any adjacent intervals separated by a gap equal to or
        less than 3.0.


        Example code begins here.


              PROGRAM WNFILD_EX1
              IMPLICIT NONE

        C
        C     SPICELIB functions
        C
              INTEGER               <a href="wncard.html">WNCARD</a>

        C
        C     Local parameters.
        C
              CHARACTER*(*)         FMT
              PARAMETER           ( FMT    = '(A,I2,A,2(F7.3,A))' )

              INTEGER               LBCELL
              PARAMETER           ( LBCELL = -5 )

              INTEGER               WNSIZE
              PARAMETER           ( WNSIZE = 10 )

        C
        C     Local variables.
        C
              DOUBLE PRECISION      LEFT
              DOUBLE PRECISION      RIGHT
              DOUBLE PRECISION      WINDOW ( LBCELL:WNSIZE )

              INTEGER               I

        C
        C     Validate the WINDOW with size WNSIZE and zero elements.
        C
              CALL <a href="wnvald.html">WNVALD</a> ( WNSIZE, 0, WINDOW )

        C
        C     Insert the intervals
        C
        C        [ 1, 3 ]  [ 7, 11 ]  [ 23, 27 ]  [ 29, 29 ]
        C
        C     into WINDOW.
        C
              CALL <a href="wninsd.html">WNINSD</a> ( 1.0D0,  3.0D0,  WINDOW )
              CALL <a href="wninsd.html">WNINSD</a> ( 7.0D0,  11.0D0, WINDOW )
              CALL <a href="wninsd.html">WNINSD</a> ( 23.0D0, 27.0D0, WINDOW )
              CALL <a href="wninsd.html">WNINSD</a> ( 29.0D0, 29.0D0, WINDOW )

        C
        C     Loop over the number of intervals in WINDOW, output
        C     the LEFT and RIGHT endpoints for each interval.
        C
              WRITE(*,*) 'Initial WINDOW:'

              DO I= 1, <a href="wncard.html">WNCARD</a>( WINDOW )

                 CALL <a href="wnfetd.html">WNFETD</a> ( WINDOW, I, LEFT, RIGHT )

                 WRITE(*,FMT) '   Interval ', I, ': [',
             .                LEFT, ',', RIGHT, ' ]'

              END DO

        C
        C     Fill the gaps smaller than or equal to 3.0
        C
              CALL <b>WNFILD</b> ( 3.0D0, WINDOW )

        C
        C     Output the intervals.
        C
              WRITE(*,*) ' '
              WRITE(*,*) 'Window after filling gaps &lt;= 3.0:'

              DO I= 1, <a href="wncard.html">WNCARD</a>( WINDOW )

                 CALL <a href="wnfetd.html">WNFETD</a> ( WINDOW, I, LEFT, RIGHT )

                 WRITE(*,FMT) '   Interval ', I, ': [',
             .                LEFT, ',', RIGHT, ' ]'

              END DO

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


         Initial WINDOW:
           Interval  1: [  1.000,  3.000 ]
           Interval  2: [  7.000, 11.000 ]
           Interval  3: [ 23.000, 27.000 ]
           Interval  4: [ 29.000, 29.000 ]

         Window after filling gaps &lt;= 3.0:
           Interval  1: [  1.000,  3.000 ]
           Interval  2: [  7.000, 11.000 ]
           Interval  3: [ 23.000, 29.000 ]


     2) Using the same window from the first example:

           [ 1.0, 3.0 ], [ 7.0, 11.0 ], [ 23.0, 27.0 ], [ 29.0, 29.0 ]

        Then the following series of calls

           CALL <b>WNFILD</b> (  1.D0, WINDOW )                           (1)
           CALL <b>WNFILD</b> (  2.D0, WINDOW )                           (2)
           CALL <b>WNFILD</b> (  3.D0, WINDOW )                           (3)
           CALL <b>WNFILD</b> ( 12.D0, WINDOW )                           (4)

        produces the following series of windows

           [1.0,  3.0]  [7.0, 11.0]  [23.0, 27.0]  [29.0, 29.0]    (1)
           [1.0,  3.0]  [7.0, 11.0]  [23.0, 29.0]                  (2)
           [1.0,  3.0]  [7.0, 11.0]  [23.0, 29.0]                  (3)
           [1.0, 29.0]                                             (4)
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     H.A. Neilan        (JPL)
     W.L. Taber         (JPL)
     I.M. Underwood     (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.0, 05-JUL-2021 (JDR) (NJB)

        Changed the argument name SMALL to SMLGAP for consistency with
        other routines.

        Added IMPLICIT NONE statement.

        Edited the header to comply with NAIF standard. Removed
        unnecessary $Revisions section.

        Added complete code example. Added entry #1 and #2 in
        $Exceptions section. Extended SMLGAP description in
        $Detailed_Input.

        Updated code to remove unnecessary lines of code in the
        Standard SPICE error handling CHKIN statements.

    SPICELIB Version 1.0.3, 29-JUL-2007 (NJB)

        Corrected typo in the previous Version line date string,
        &quot;29-JUL-20022&quot; to &quot;29-JUL-2002.&quot;

    SPICELIB Version 1.0.2, 29-JUL-2002 (NJB)

        Changed gap size from 10 to 12 to correct erroneous example.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (WLT) (IMU) (HAN)</PRE>
<h4>Link to routine WNFILD source file <a href='../../../src/spicelib/wnfild.f'>wnfild.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:37:07 2021</pre>

</body>
</html>

