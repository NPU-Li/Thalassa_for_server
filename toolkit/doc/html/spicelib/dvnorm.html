
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dvnorm</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dvnorm</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     DVNORM ( Derivative of vector norm )

      DOUBLE PRECISION FUNCTION DVNORM( STATE )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Calculate the derivative of the norm of a 3-vector.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     DERIVATIVE
     MATH
     VECTOR
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     DOUBLE PRECISION      STATE ( 6 )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     STATE      I   A 6-vector composed of three coordinates and their
                    derivatives.

     The function returns the derivative of the norm of the position
     component of the input STATE vector.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     STATE    is a double precision 6-vector, the second three
              components being the derivatives of the first three
              with respect to some scalar.

                               dx
                 STATE =  ( x, -- )
                               ds

              A common form for STATE would contain position and
              velocity.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     The function returns the derivative of the norm of the position
     component of the input STATE vector:

                  d ||x||
        <b>DVNORM</b> = --------
                    ds

     where the norm of x is given by:

                                     .----------------
                   .---------       /    2    2    2
        ||x|| =  \/ &lt; x, x &gt;  = \  / ( x1 + x2 + x3  )
                                 \/


     If the velocity component of STATE is:

                  dx1   dx2   dx3
           v = ( ----, ----, ---- )
                  ds    ds    ds

     then

           d||x||      &lt; x, v &gt;
           ------ =  ------------  =  &lt; xhat, v &gt;
             ds        .---------
                     \/ &lt; x, x &gt;
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1)  If the first three components of STATE (&quot;x&quot;) describe the
         origin (zero vector) the routine returns zero as the
         derivative of the vector norm.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     A common use for this routine is to calculate the time derivative
     of the radius corresponding to a state vector.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Compute the derivative of the norm of three vectors of
        different magnitudes. Use the first two vectors to define
        the derivatives as parallel and anti-parallel, and let
        the third be the zero vector.

        Example code begins here.


              PROGRAM DVNORM_EX1
              IMPLICIT NONE

              DOUBLE PRECISION      X     (3)
              DOUBLE PRECISION      MAG   (3)
              DOUBLE PRECISION      DVMAG (3)
              DOUBLE PRECISION      Y     (6)

              DOUBLE PRECISION      <b>DVNORM</b>
        C
        C     Create several 6-vectors (6x1 arrays) with the structure
        C
        C        s = |  x  |
        C            |     |
        C            |  dx |
        C            |  -- |
        C            |  ds |
        C
        C      where 'x' is a 3-vector (3x1 array).
        C

        C
        C      Create 's' with 'x' of varying magnitudes. Use 'x'
        C      and '-x' to define the derivative as parallel and
        C      anti-parallel.
        C
              MAG(1) =  -4.D0
              MAG(2) =   4.D0
              MAG(3) =  12.D0

              X(1)   = 1.D0
              X(2)   = DSQRT( 2.D0 )
              X(3)   = DSQRT( 3.D0 )

        C
        C     Parallel...
        C
              Y(1)   = X(1) * 10.D0**MAG(1)
              Y(2)   = X(2) * 10.D0**MAG(1)
              Y(3)   = X(3) * 10.D0**MAG(1)
              Y(4)   = X(1)
              Y(5)   = X(2)
              Y(6)   = X(3)

              WRITE(*,*) 'Parallel x, dx/ds         : ', <b>DVNORM</b>( Y )

        C
        C     ... anti-parallel...
        C
              Y(1)   = X(1) * 10.D0**MAG(2)
              Y(2)   = X(2) * 10.D0**MAG(2)
              Y(3)   = X(3) * 10.D0**MAG(2)
              Y(4)   = -X(1)
              Y(5)   = -X(2)
              Y(6)   = -X(3)

              WRITE(*,*) 'Anti-parallel x, dx/ds    : ', <b>DVNORM</b>( Y )

        C
        C     ... 'x' zero vector
        C
              Y(1)   = 0.D0
              Y(2)   = 0.D0
              Y(3)   = 0.D0
              Y(4)   = X(1) * 10.D0**MAG(3)
              Y(5)   = X(2) * 10.D0**MAG(3)
              Y(6)   = X(3) * 10.D0**MAG(3)

              WRITE(*,*) 'Zero vector x, large dx/ds: ', <b>DVNORM</b>( Y )
              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


         Parallel x, dx/ds         :    2.4494897427831779
         Anti-parallel x, dx/ds    :   -2.4494897427831779
         Zero vector x, large dx/ds:    0.0000000000000000
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     J. Diaz del Rio    (ODC Space)
     E.D. Wright        (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.0, 06-JUL-2021 (JDR)

        Added IMPLICIT NONE statement.

        Edited the header to comply with NAIF standard. Added problem
        statement to the example. Moved the contents of the
        $Restrictions section to $Exceptions.

    SPICELIB Version 1.0.0, 03-MAY-2010 (EDW)</PRE>
<h4>Link to routine DVNORM source file <a href='../../../src/spicelib/dvnorm.f'>dvnorm.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:16 2021</pre>

</body>
</html>

