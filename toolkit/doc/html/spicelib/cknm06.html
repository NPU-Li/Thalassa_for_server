
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>cknm06</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>cknm06</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     CKNM06 ( C-kernel, number of mini-segments, type 06 )

     SUBROUTINE CKNM06 ( HANDLE, DESCR, NMINI )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return the number of mini-segments in a type 6 CK segment, given
     the handle of the type 6 CK file and the segment's descriptor.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/ck.html">CK</a>
     <a href="../req/daf.html">DAF</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     POINTING
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     INTEGER               HANDLE
     DOUBLE PRECISION      DESCR   ( * )
     INTEGER               NMINI
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     HANDLE     I   The handle of the file containing the segment.
     DESCR      I   The descriptor of the type 6 segment.
     NMINI      O   The number of pointing instances in the segment.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE   is the handle of the binary CK file containing the
              segment. Normally the CK file should be open for
              read access. See the $Files section below for details.

     DESCR    is the DAF descriptor of a CK data type 6 segment.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     NMINI    is the number of mini-segments in the CK segment
              identified by HANDLE and DESCR.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1)  If the segment indicated by DESCR is not a type 6 segment,
         the error SPICE(CKWRONGDATATYPE) is signaled.

     2)  If the specified handle does not belong to any DAF file that
         is currently known to be open, an error is signaled by a
         routine in the call tree of this routine.

     3)  If DESCR is not a valid descriptor of a valid segment in the
         CK file specified by HANDLE, the results of this routine are
         unpredictable.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     The CK file specified by HANDLE may be open for read or write
     access. Normally, the file should have been opened for read
     access. If the file is open for write access, the calling
     application must ensure integrity of the CK segment being read.
     If the structure of the segment is invalid---for example, if the
     segment has been partially written---this routine will either
     return invalid results, or it will cause a system-level runtime
     error.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     For a complete description of the internal structure of a type 6
     segment, see the CK required reading.

     This routine returns the number of discrete pointing instances
     contained in the specified segment. It is normally used in
     conjunction with CKMN06, which returns mini-segment parameters,
     and with <a href="ckgr06.html">CKGR06</a>, which returns a specified pointing instance
     from a mini-segment.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for this example may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) The following program dumps records from a CK file that
        contains only type 6 segments.


        Example code begins here.


              PROGRAM CKNM06_EX1
              IMPLICIT NONE

        C
        C     Dump all records from a CK that
        C     contains only segments of type 6.
        C
              INCLUDE 'ck06.inc'

        C
        C     Local parameters
        C
              INTEGER               ND
              PARAMETER           ( ND     = 2 )

              INTEGER               NI
              PARAMETER           ( NI     = 6 )

              INTEGER               DSCSIZ
              PARAMETER           ( DSCSIZ = 5 )

              INTEGER               FILSIZ
              PARAMETER           ( FILSIZ = 255 )

        C
        C     RECSIZ is the size of the largest pointing
        C     record, which corresponds to subtype 2.
        C
              INTEGER               RECSIZ
              PARAMETER           ( RECSIZ = C06PS2 + 3 )

        C
        C     Local variables
        C
              CHARACTER*(FILSIZ)    CK

              DOUBLE PRECISION      DC     ( ND )
              DOUBLE PRECISION      DESCR  ( DSCSIZ )
              DOUBLE PRECISION      IVLBDS ( 2 )
              DOUBLE PRECISION      LSTEPC
              DOUBLE PRECISION      RATE
              DOUBLE PRECISION      RECORD ( RECSIZ )

              INTEGER               DTYPE
              INTEGER               HANDLE
              INTEGER               IC     ( NI )
              INTEGER               RECNO
              INTEGER               MSNO
              INTEGER               NMINI
              INTEGER               NREC
              INTEGER               SEGNO
              INTEGER               SUBTYP
              INTEGER               WINSIZ

              LOGICAL               FOUND


              CALL PROMPT ( 'Enter name of CK to dump &gt; ', CK )

              CALL <a href="dafopr.html">DAFOPR</a> ( CK, HANDLE )

        C
        C     Dump data from each CK segment.
        C
              SEGNO = 0

              CALL <a href="dafbfs.html">DAFBFS</a> ( HANDLE )
              CALL <a href="daffna.html">DAFFNA</a> ( FOUND  )

              DO WHILE ( FOUND )

                 SEGNO = SEGNO + 1

                 WRITE (*,*) ' '
                 WRITE (*,*) ' '
                 WRITE (*,*) 'Segment number: ', SEGNO

        C
        C        Fetch and unpack the descriptor of the
        C        current segment; check the data type.
        C
                 CALL <a href="dafgs.html">DAFGS</a> ( DESCR )
                 CALL <a href="dafus.html">DAFUS</a> ( DESCR, ND, NI, DC, IC )

                 DTYPE = IC(3)

                 IF ( DTYPE .NE. 6 ) THEN

                    CALL <a href="setmsg.html">SETMSG</a> ( 'Data type must be 6 but was #.' )
                    CALL <a href="errint.html">ERRINT</a> ( '#',  DTYPE                      )
                    CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(NOTSUPPORTED)'            )

                 END IF

        C
        C        Get the mini-segment count for this
        C        segment.
        C
                 CALL <b>CKNM06</b> ( HANDLE, DESCR, NMINI )

        C
        C        Dump data from each mini-segment.
        C
                 DO MSNO = 1, NMINI

        C
        C           Get the mini-segment's record count
        C           and time bounds.
        C
                    CALL <a href="ckmp06.html">CKMP06</a> ( HANDLE, DESCR,  MSNO,
             .                    RATE,   SUBTYP, WINSIZ,
             .                    NREC,   IVLBDS, LSTEPC )

                    WRITE (*,*) ' '
                    WRITE (*,*) '   Mini-segment number: ', MSNO
                    WRITE (*,*) '      Rate:           ',   RATE
                    WRITE (*,*) '      Subtype:        ',   SUBTYP
                    WRITE (*,*) '      Window size:    ',   WINSIZ
                    WRITE (*,*) '      Interval start: ',   IVLBDS(1)
                    WRITE (*,*) '      Interval stop:  ',   IVLBDS(2)
                    WRITE (*,*) '      Last epoch:     ',   LSTEPC
                    WRITE (*,*) ' '

                    DO RECNO = 1, NREC

                       CALL <a href="ckgr06.html">CKGR06</a> ( HANDLE, DESCR,
             .                       MSNO,   RECNO,  RECORD )

                       WRITE (*,*) '      Record number: ', RECNO
                       WRITE (*,*) '         SCLKDP:     ', RECORD(1)
                       WRITE (*,*) '         Clock rate: ', RECORD(3)

                       IF ( SUBTYP .EQ. C06TP0 ) THEN

                          WRITE (*,*) '         Q(0): ', RECORD(4)
                          WRITE (*,*) '         Q(1): ', RECORD(5)
                          WRITE (*,*) '         Q(2): ', RECORD(6)
                          WRITE (*,*) '         Q(3): ', RECORD(7)
                          WRITE (*,*) '    d Q(0)/dt: ', RECORD(8)
                          WRITE (*,*) '    d Q(1)/dt: ', RECORD(9)
                          WRITE (*,*) '    d Q(2)/dt: ', RECORD(10)
                          WRITE (*,*) '    d Q(3)/dt: ', RECORD(11)

                       ELSE IF ( SUBTYP .EQ. C06TP1 ) THEN

                          WRITE (*,*) '         Q(0): ', RECORD(4)
                          WRITE (*,*) '         Q(1): ', RECORD(5)
                          WRITE (*,*) '         Q(2): ', RECORD(6)
                          WRITE (*,*) '         Q(3): ', RECORD(7)

                       ELSE IF ( SUBTYP .EQ. C06TP2 ) THEN

                          WRITE (*,*) '         Q(0): ', RECORD(4)
                          WRITE (*,*) '         Q(1): ', RECORD(5)
                          WRITE (*,*) '         Q(2): ', RECORD(6)
                          WRITE (*,*) '         Q(3): ', RECORD(7)
                          WRITE (*,*) '    d Q(0)/dt: ', RECORD(8)
                          WRITE (*,*) '    d Q(1)/dt: ', RECORD(9)
                          WRITE (*,*) '    d Q(2)/dt: ', RECORD(10)
                          WRITE (*,*) '    d Q(3)/dt: ', RECORD(11)
                          WRITE (*,*) '        AV(1): ', RECORD(12)
                          WRITE (*,*) '        AV(2): ', RECORD(13)
                          WRITE (*,*) '        AV(3): ', RECORD(14)
                          WRITE (*,*) '   d AV(1)/dt: ', RECORD(15)
                          WRITE (*,*) '   d AV(2)/dt: ', RECORD(16)
                          WRITE (*,*) '   d AV(3)/dt: ', RECORD(17)

                       ELSE IF ( SUBTYP .EQ. C06TP3 ) THEN

                          WRITE (*,*) '         Q(0): ', RECORD(4)
                          WRITE (*,*) '         Q(1): ', RECORD(5)
                          WRITE (*,*) '         Q(2): ', RECORD(6)
                          WRITE (*,*) '         Q(3): ', RECORD(7)
                          WRITE (*,*) '        AV(1): ', RECORD(8)
                          WRITE (*,*) '        AV(2): ', RECORD(9)
                          WRITE (*,*) '        AV(3): ', RECORD(10)

                       ELSE
                          CALL <a href="setmsg.html">SETMSG</a> ( 'Subtype # is not '
             .            //            'recognized.'         )
                          CALL <a href="errint.html">ERRINT</a> ( '#', SUBTYP           )
                          CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(NOTSUPPORTED)' )
                       END IF

                       WRITE (*,*) ' '

                   END DO

                 END DO

                 CALL <a href="daffna.html">DAFFNA</a> ( FOUND )

              END DO

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, using the Rosetta CK file named
        RATT_DV_257_02_01_T6_00344.BC, the output was:


        Enter name of CK to dump &gt; RATT_DV_257_02_01_T6_00344.BC


         Segment number:            1

            Mini-segment number:            1
               Rate:              1.5258789062500000E-005
               Subtype:                   1
               Window size:              10
               Interval start:    24471796593941.691
               Interval stop:     24472844252095.523
               Last epoch:        24472844252095.523

               Record number:            1
                  SCLKDP:        24471796593941.691
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.95514652599900884
                  Q(1):   0.16277660709912350
                  Q(2):   0.11688592199582469
                  Q(3):  -0.21802883133317097

               Record number:            2
                  SCLKDP:        24472234538651.801
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.95746293340938016
                  Q(1):   0.14880147654385018
                  Q(2):   0.12021705739210503
                  Q(3):  -0.21603405018065600

               Record number:            3
                  SCLKDP:        24472676416997.039
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.95956954083287593
                  Q(1):   0.13478976855182764
                  Q(2):   0.12355113537344563
                  Q(3):  -0.21399329790313779

               Record number:            4
                  SCLKDP:        24472844252095.523
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.96030932381589129
                  Q(1):   0.12949634043544370
                  Q(2):   0.12480922302154081
                  Q(3):  -0.21321200307405938


            Mini-segment number:            2
               Rate:              1.5258789062500000E-005
               Subtype:                   1
               Window size:              10
               Interval start:    24472844252095.523
               Interval stop:     24472863912889.105
               Last epoch:        24472863912889.105

               Record number:            1
                  SCLKDP:        24472844252095.523
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.96030932403888680
                  Q(1):   0.12949633879120778
                  Q(2):   0.12480922338599261
                  Q(3):  -0.21321200285498659

               Record number:            2
                  SCLKDP:        24472851309816.297
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.96035266600496283
                  Q(1):   0.12922730685291675
                  Q(2):   0.12480259688433022
                  Q(3):  -0.21318389214860939

               Record number:            3
                  SCLKDP:        24472859879905.805
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.96041575813224878
                  Q(1):   0.12886248165419970
                  Q(2):   0.12474605317805663
                  Q(3):  -0.21315359384649502

               Record number:            4
                  SCLKDP:        24472863912889.105
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.96043784177251290
                  Q(1):   0.12871819083493355
                  Q(2):   0.12475418449192528
                  Q(3):  -0.21313651233726627


            Mini-segment number:            3
               Rate:              1.5258789062500000E-005
               Subtype:                   1
               Window size:              10
               Interval start:    24472863912889.105
               Interval stop:     24473139163999.207
               Last epoch:        24473139163999.207

               Record number:            1
                  SCLKDP:        24472863912889.105
                  Clock rate:    1.5258789062500000E-005
                  Q(0):  -0.96043784177455394
                  Q(1):   0.12871819083614683

        [...]


        Warning: incomplete output. Only 100 out of 2378824 lines have
        been provided.
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     J.M. Lynch         (JPL)
     B.V. Semenov       (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.1, 12-AUG-2021 (JDR)

        Edited the header to comply with NAIF standard.

    SPICELIB Version 1.0.0, 14-MAR-2014 (NJB) (JML) (BVS)</PRE>
<h4>Link to routine CKNM06 source file <a href='../../../src/spicelib/cknm06.f'>cknm06.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:03 2021</pre>

</body>
</html>

