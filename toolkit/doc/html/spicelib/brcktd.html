
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>brcktd</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>brcktd</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     BRCKTD ( Bracket a d.p. value within an interval )

     DOUBLE PRECISION FUNCTION BRCKTD ( NUMBER, END1, END2 )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Bracket a double precision number. That is, given a number and an
     acceptable interval, make sure that the number is contained in the
     interval. (If the number is already in the interval, leave it
     alone. If not, set it to the nearest endpoint of the interval.)
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     INTERVALS
     NUMBERS
     UTILITY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     DOUBLE PRECISION   NUMBER
     DOUBLE PRECISION   END1
     DOUBLE PRECISION   END2
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     NUMBER     I   Number to be bracketed.
     END1       I   One of the bracketing endpoints for NUMBER.
     END2       I   The other bracketing endpoint for NUMBER.

     The function returns the bracketed number.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     NUMBER   is the number to be bracketed. That is, the
              value of NUMBER is constrained to lie in the
              interval bounded by END1 and END2.

     END1,
     END2     are the lower and upper bounds for NUMBER. The
              order is not important.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     The function returns the bracketed number. That is NUMBER, if it
     was already in the interval provided. Otherwise the returned
     value is the nearest bound of the interval.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine provides a shorthand notation for code fragments
     like the following:

        IF ( END1 .LT. END2 ) THEN
           IF      ( NUMBER .LT. END1 ) THEN
              NUMBER = END1
           ELSE IF ( NUMBER .GT. END2 ) THEN
              NUMBER = END2
           END IF
        ELSE
           IF      ( NUMBER .LT. END2 ) THEN
              NUMBER = END2
           ELSE IF ( NUMBER .GT. END1 ) THEN
              NUMBER = END1
           END IF
        END IF

     which occur frequently during the processing of program inputs.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for these examples may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) The following code example illustrates the operation of
        <b>BRCKTD</b>.

        Example code begins here.


              PROGRAM BRCKTD_EX1
              IMPLICIT NONE

        C
        C     SPICELIB functions.
        C
              DOUBLE PRECISION        <b>BRCKTD</b>

        C
        C     Local parameters.
        C
              INTEGER                 LISTSZ
              PARAMETER             ( LISTSZ = 4  )

        C
        C     Local variables.
        C
              DOUBLE PRECISION        END1    ( LISTSZ )
              DOUBLE PRECISION        END2    ( LISTSZ )
              DOUBLE PRECISION        NUMBER  ( LISTSZ )

              INTEGER                 I

        C
        C     Set the values for the example.
        C
              DATA                    END1   /  1.D0,   1.D0,
             .                                 10.D0, -10.D0  /
              DATA                    END2   / 10.D0,  10.D0,
             .                                -10.D0,  -1.D0  /
              DATA                    NUMBER / -1.D0,  29.D0,
             .                                  3.D0,   3.D0  /


              WRITE(*,'(A)') ' Number  End1   End2   Bracketed'
              WRITE(*,'(A)') ' ------  -----  -----  ---------'

              DO I = 1, LISTSZ

                 WRITE(*,'(3F7.1,F11.1)') NUMBER(I), END1(I), END2(I),
             .                 <b>BRCKTD</b> ( NUMBER(I), END1(I), END2(I) )

              END DO


              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


         Number  End1   End2   Bracketed
         ------  -----  -----  ---------
           -1.0    1.0   10.0        1.0
           29.0    1.0   10.0       10.0
            3.0   10.0  -10.0        3.0
            3.0  -10.0   -1.0       -1.0


     2) The following code example illustrates a typical use for
        <b>BRCKTD</b>: force a star magnitude limit to be within a range.
        Note that this code assumes that the user provided value
        is a valid double precision number.


        Example code begins here.


              PROGRAM BRCKTD_EX2
              IMPLICIT NONE

        C
        C     SPICELIB functions.
        C
              DOUBLE PRECISION        <b>BRCKTD</b>

        C
        C     Local parameters.
        C
              INTEGER                 KWDSZ
              PARAMETER             ( KWDSZ = 30   )

        C
        C     Local variables.
        C
              CHARACTER*(KWDSZ)       USRIN

              DOUBLE PRECISION        MAGLIN
              DOUBLE PRECISION        MAGLOK

        C
        C     Prompt the user for the star magnitude.
        C
              CALL PROMPT ( 'Enter star magnitude: ', USRIN )

        C
        C     Convert the user input to double precision.
        C
              CALL <a href="prsdp.html">PRSDP</a> ( USRIN, MAGLIN )

        C
        C     Star magnitude must be in the range 0-10.
        C
              MAGLOK = <b>BRCKTD</b> ( MAGLIN, 0.D0, 10.D0 )

        C
        C     Display confirmation message.
        C
              IF ( MAGLIN .NE. MAGLOK ) THEN

                 WRITE(*,'(A,F4.1,A)') 'Provided star magnitude ',
             .                 MAGLIN, ' is out of range (0-10).'

              ELSE

                 WRITE(*,'(A,F4.1,A)') 'Provided star magnitude ',
             .                 MAGLIN, ' is in range (0-10).'

              END IF

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, using '10.1' as user provided input, the output was:


        Enter star magnitude: 10.1
        Provided star magnitude 10.1 is out of range (0-10).
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     J. Diaz del Rio    (ODC Space)
     B.V. Semenov       (JPL)
     W.L. Taber         (JPL)
     I.M. Underwood     (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.0, 08-AUG-2021 (JDR) (BVS)

        Added IMPLICIT NONE statement.

        Edited the header to comply with NAIF standard. Added complete
        code examples based on existing code fragments.

        Updated code fragment in $Particulars to show that the
        order of endpoints is not important.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (IMU) (WLT)</PRE>
<h4>Link to routine BRCKTD source file <a href='../../../src/spicelib/brcktd.f'>brcktd.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:00 2021</pre>

</body>
</html>

