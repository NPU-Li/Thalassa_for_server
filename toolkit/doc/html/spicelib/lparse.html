
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>lparse</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>lparse</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     LPARSE ( Parse items from a list )

     SUBROUTINE LPARSE ( LIST, DELIM, NMAX, N, ITEMS )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Parse a list of items delimited by a single character.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     CHARACTER
     LIST
     PARSING
     STRING
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     CHARACTER*(*)         LIST
     CHARACTER*(1)         DELIM
     INTEGER               NMAX
     INTEGER               N
     CHARACTER*(*)         ITEMS ( * )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     LIST       I   List of items delimited by DELIM.
     DELIM      I   Single character used to delimit items.
     NMAX       I   Maximum number of items to return.
     N          O   Number of items in the list.
     ITEMS      O   Items in the list, left justified.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     LIST     is a list of items delimited by the single character
              DELIM. Consecutive delimiters, and delimiters at the
              beginning and end of the list, are considered to
              delimit blank items. A blank list is considered to
              contain a single (blank) item.

     DELIM    is the character delimiting the items in the list.
              This may be any ASCII character, including a blank.
              However, by definition, consecutive blanks are NOT
              considered to be consecutive delimiters. In addition,
              leading and trailing blanks are ignored.

     NMAX     is the maximum number of items to be returned from
              the list. This allows the user to guard against
              overflow from a list containing more items than
              expected.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     N        is the number of items in the list. N may be
              any number between one and NMAX. N is always the
              number of delimiters plus one.

     ITEMS    are the items in the list, left justified. Any item
              in the list too long to fit into an element of ITEMS
              is truncated on the right.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.

     1)  If the string length of ITEMS is too short to accommodate
         an item, the item will be truncated on the right.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for these examples may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Parse a character string to retrieve the words contained
        within.

        Example code begins here.


              PROGRAM LPARSE_EX1
              IMPLICIT NONE

        C
        C     Local constants.
        C
              INTEGER                 NMAX
              PARAMETER             ( NMAX   = 25  )

              INTEGER                 STRLEN
              PARAMETER             ( STRLEN = 255 )

        C
        C     Local variables.
        C
              CHARACTER*(1)           DELIM
              CHARACTER*(STRLEN)      ITEMS  ( NMAX )
              CHARACTER*(STRLEN)      LIST

              INTEGER                 I
              INTEGER                 N

        C
        C     Define the list of delimited items.
        C
        C     Think of a sentence as a list delimited by a space.
        C     DELIM is assigned to a space.
        C
              LIST  = 'Run and find out.'
              DELIM = ' '

        C
        C     Parse the items from LIST.
        C
              CALL <b>LPARSE</b> ( LIST, DELIM, NMAX, N, ITEMS )

        C
        C     Output the ITEMS.
        C
              DO I = 1, N

                 WRITE(*,'(A,I3,2A)') 'Item', I, ': ', ITEMS(I)

              END DO

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


        Item  1: Run
        Item  2: and
        Item  3: find
        Item  4: out.


     2) Repeat the previous example with different character
        delimiting the items in the list and different maximum number
        of items to return.

        Example code begins here.


              PROGRAM LPARSE_EX2
              IMPLICIT NONE

        C
        C     SPICELIB functions.
        C
              INTEGER                 <a href="rtrim.html">RTRIM</a>

        C
        C     Local constants.
        C
              INTEGER                 NCASES
              PARAMETER             ( NCASES = 2   )

              INTEGER                 NMAXT
              PARAMETER             ( NMAXT  = 25  )

              INTEGER                 STRLEN
              PARAMETER             ( STRLEN = 255 )

        C
        C     Local variables.
        C
              CHARACTER*(1)           DELIM  ( NCASES )
              CHARACTER*(STRLEN)      ITEMS  ( NMAXT  )
              CHARACTER*(STRLEN)      LIST   ( NCASES )

              INTEGER                 I
              INTEGER                 J
              INTEGER                 N
              INTEGER                 NMAX   ( NCASES )

        C
        C     Define the lists of delimited items, the delimiting
        C     character and the maximum number of items to return.
        C
              LIST(1)  = '//option1//option2/ //'
              DELIM(1) = '/'
              NMAX(1)  = 20

              LIST(2)  = ' ,bob,   carol,, ted,  alice'
              DELIM(2) = ','
              NMAX(2)  = 4

              DO I = 1, NCASES

                 WRITE(*,'(A,I2,A)') 'Case', I, ':'
                 WRITE(*,'(3A)')   '   String: ''',
             .                     LIST(I)(:<a href="rtrim.html">RTRIM</a>(LIST(I))), ''''
                 WRITE(*,'(3A)')   '   DELIM : ''', DELIM(I), ''''
                 WRITE(*,'(A,I3)') '   NMAX  :', NMAX(I)
                 WRITE(*,'(A)')    '   Output items:'

        C
        C        Parse the items from LIST.
        C
                 CALL <b>LPARSE</b> ( LIST(I), DELIM(I), NMAX(I), N, ITEMS )

        C
        C        Output the ITEMS.
        C
                 DO J = 1, N

                    WRITE(*,'(A,I3,3A)') '      Item', J, ': ''',
             .                  ITEMS(J)(:<a href="rtrim.html">RTRIM</a>(ITEMS(J))), ''''

                 END DO

              END DO

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


        Case 1:
           String: '//option1//option2/ //'
           DELIM : '/'
           NMAX  : 20
           Output items:
              Item  1: ' '
              Item  2: ' '
              Item  3: 'option1'
              Item  4: ' '
              Item  5: 'option2'
              Item  6: ' '
              Item  7: ' '
              Item  8: ' '
        Case 2:
           String: ' ,bob,   carol,, ted,  alice'
           DELIM : ','
           NMAX  :  4
           Output items:
              Item  1: ' '
              Item  2: 'bob'
              Item  3: 'carol'
              Item  4: ' '
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     H.A. Neilan        (JPL)
     W.L. Taber         (JPL)
     I.M. Underwood     (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.2.0, 06-JUL-2021 (JDR)

        Added IMPLICIT NONE statement.

        Edited the header to comply with NAIF standard. Removed
        unnecessary entries from $Revisions section.

        Added complete code example.

    SPICELIB Version 1.1.0, 26-OCT-2005 (NJB)

        Bug fix: code was modified to avoid out-of-range
        substring bound conditions.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 31-JAN-1990 (IMU) (HAN) (NJB)</PRE>
<h4>Link to routine LPARSE source file <a href='../../../src/spicelib/lparse.f'>lparse.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:32 2021</pre>

</body>
</html>

