
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>el2cgv</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>el2cgv</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <big><b><a href="#Examples">Examples<br></a></b></big>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
     EL2CGV ( Ellipse to center and generating vectors )

     SUBROUTINE EL2CGV ( ELLIPS, CENTER, SMAJOR, SMINOR )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Convert a SPICE ellipse to a center vector and two generating
     vectors. The selected generating vectors are semi-axes of the
     ellipse.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/ellipses.html">ELLIPSES</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     ELLIPSE
     GEOMETRY
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
     IMPLICIT NONE

     INTEGER               UBEL
     PARAMETER           ( UBEL    =   9 )

     DOUBLE PRECISION      ELLIPS ( UBEL )
     DOUBLE PRECISION      CENTER (    3 )
     DOUBLE PRECISION      SMAJOR (    3 )
     DOUBLE PRECISION      SMINOR (    3 )
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     VARIABLE  I/O  DESCRIPTION
     --------  ---  --------------------------------------------------
     ELLIPS     I   A SPICE ellipse.
     CENTER,
     SMAJOR,
     SMINOR     O   Center and semi-axes of ELLIPS.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     ELLIPS   is a SPICE ellipse.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     CENTER,
     SMAJOR,
     SMINOR   are, respectively, a center vector, a semi-major
              axis vector, and a semi-minor axis vector that
              generate the input ellipse. This ellipse is the
              set of points

                 CENTER + cos(theta) SMAJOR + sin(theta) SMINOR

              where theta ranges over the interval (-pi, pi].
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     Error free.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     SPICE ellipses serve to simplify calling sequences and reduce
     the chance for error in declaring and describing argument lists
     involving ellipses.

     The set of ellipse conversion routines is

        <a href="cgv2el.html">CGV2EL</a> ( Center and generating vectors to ellipse )
        <b>EL2CGV</b> ( Ellipse to center and generating vectors )

     A word about the output of this routine: the semi-major axis of
     an ellipse is a vector of largest possible magnitude in the set

        cos(theta) VEC1  +  sin(theta) VEC2,

     where theta is in the interval (-pi, pi].  There are two such
     vectors; they are additive inverses of each other. The semi-minor
     axis is an analogous vector of smallest possible magnitude. The
     semi-major and semi-minor axes are orthogonal to each other. If
     SMAJOR and SMINOR are choices of semi-major and semi-minor axes,
     then the input ellipse can also be represented as the set of
     points


        CENTER + cos(theta) SMAJOR + sin(theta) SMINOR

     where theta ranges over the interval (-pi, pi].
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     The numerical results shown for these examples may differ across
     platforms. The results depend on the SPICE kernels used as
     input, the compiler and supporting libraries, and the machine
     specific arithmetic implementation.

     1) Given a SPICE ellipse structure, extract its components into
        independent variables.


        Example code begins here.


              PROGRAM EL2CGV_EX1
              IMPLICIT NONE

        C
        C     Local constants.
        C
              INTEGER                 UBEL
              PARAMETER             ( UBEL =   9 )

        C
        C     Local variables.
        C
              DOUBLE PRECISION        CENTER ( 3    )
              DOUBLE PRECISION        ECENTR ( 3    )
              DOUBLE PRECISION        ELLIPS ( UBEL )
              DOUBLE PRECISION        SMAJOR ( 3    )
              DOUBLE PRECISION        SMINOR ( 3    )
              DOUBLE PRECISION        VEC1   ( 3    )
              DOUBLE PRECISION        VEC2   ( 3    )

              INTEGER                 I

        C
        C     Define the center and two linearly independent
        C     generating vectors of an ellipse (the vectors need not
        C     be linearly independent).
        C
              DATA                    CENTER / -1.D0,  1.D0, -1.D0 /

              DATA                    VEC1   /  1.D0,  1.D0,  1.D0 /

              DATA                    VEC2   /  1.D0, -1.D0,  1.D0 /

        C
        C     Create the ELLIPS.
        C
              CALL <a href="cgv2el.html">CGV2EL</a> ( CENTER, VEC1, VEC2, ELLIPS )

        C
        C     In a real application, please use SPICELIB API <b>EL2CGV</b>
        C     to retrieve the center and generating vectors from the
        C     ellipse structure (see next block).
        C
              WRITE(*,'(A)') 'SPICE ellipse:'
              WRITE(*,'(A,3F10.6)') '   Semi-minor axis:',
             .                                    ( ELLIPS(I), I=7,9 )
              WRITE(*,'(A,3F10.6)') '   Semi-major axis:',
             .                                    ( ELLIPS(I), I=4,6 )
              WRITE(*,'(A,3F10.6)') '   Center         :',
             .                                    ( ELLIPS(I), I=1,3 )
              WRITE(*,*) ' '

        C
        C     Obtain the center and generating vectors from the
        C     ELLIPS.
        C
              CALL <b>EL2CGV</b> ( ELLIPS, ECENTR, SMAJOR, SMINOR )

              WRITE(*,'(A)') 'SPICE ellipse (using <b>EL2CGV</b>):'
              WRITE(*,'(A,3F10.6)') '   Semi-minor axis:', SMINOR
              WRITE(*,'(A,3F10.6)') '   Semi-major axis:', SMAJOR
              WRITE(*,'(A,3F10.6)') '   Center         :', ECENTR

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


        SPICE ellipse:
           Semi-minor axis:  0.000000  1.414214  0.000000
           Semi-major axis:  1.414214 -0.000000  1.414214
           Center         : -1.000000  1.000000 -1.000000

        SPICE ellipse (using <b>EL2CGV</b>):
           Semi-minor axis:  0.000000  1.414214  0.000000
           Semi-major axis:  1.414214 -0.000000  1.414214
           Center         : -1.000000  1.000000 -1.000000


     2) Given an ellipsoid and a viewpoint exterior to it, calculate
        the limb ellipse as seen from that viewpoint.


        Example code begins here.


              PROGRAM EL2CGV_EX2
              IMPLICIT NONE

        C
        C     Local constants.
        C
              INTEGER                 UBEL
              PARAMETER             ( UBEL =   9 )

        C
        C     Local variables.
        C
              DOUBLE PRECISION        A
              DOUBLE PRECISION        B
              DOUBLE PRECISION        C
              DOUBLE PRECISION        ECENTR ( 3    )
              DOUBLE PRECISION        LIMB   ( UBEL )
              DOUBLE PRECISION        SMAJOR ( 3    )
              DOUBLE PRECISION        SMINOR ( 3    )
              DOUBLE PRECISION        VIEWPT ( 3    )

        C
        C     Define a viewpoint exterior to the ellipsoid.
        C
              DATA                    VIEWPT /  2.D0,  0.D0,  0.D0 /

        C
        C     Define an ellipsoid.
        C
              A = SQRT( 2.D0 )
              B = 2.D0 * SQRT( 2.D0 )
              C = SQRT( 2.D0 )

        C
        C     Calculate the limb ellipse as seen by from the
        C     viewpoint.
        C
              CALL <a href="edlimb.html">EDLIMB</a> ( A, B, C, VIEWPT, LIMB )

        C
        C     Output the structure components.
        C
              CALL <b>EL2CGV</b> ( LIMB, ECENTR, SMAJOR, SMINOR )

              WRITE(*,'(A)') 'Limb ellipse as seen from viewpoint:'
              WRITE(*,'(A,3F11.6)') '   Semi-minor axis:', SMINOR
              WRITE(*,'(A,3F11.6)') '   Semi-major axis:', SMAJOR
              WRITE(*,'(A,3F11.6)') '   Center         :', ECENTR

              END


        When this program was executed on a Mac/Intel/gfortran/64-bit
        platform, the output was:


        Limb ellipse as seen from viewpoint:
           Semi-minor axis:   0.000000   0.000000  -1.000000
           Semi-major axis:   0.000000   2.000000  -0.000000
           Center         :   1.000000   0.000000   0.000000
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman       (JPL)
     J. Diaz del Rio    (ODC Space)
     W.L. Taber         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.1.0, 24-AUG-2021 (JDR)

        Added IMPLICIT NONE statement.

        Edited the header to comply with NAIF standard.
        Added complete code example.

    SPICELIB Version 1.0.1, 10-MAR-1992 (WLT)

        Comment section for permuted index source lines was added
        following the header.

    SPICELIB Version 1.0.0, 02-NOV-1990 (NJB)</PRE>
<h4>Link to routine EL2CGV source file <a href='../../../src/spicelib/el2cgv.f'>el2cgv.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:36:20 2021</pre>

</body>
</html>

